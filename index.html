<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
  <title>Calcolo Totale Sostanze</title>
</head>

<body>
  <div class="container">
    <strong><code>Alias:</strong>  Puoi usare degli alias per i tipi di droga : </code>
      <ul>
        <li><code>"coca" per "cocaina"</code></li>
        <li><code>"keta" per "ketamina"</code></li>
        <li><code>"acido / francobolli" per "lsd"</code></li>
        <li><code>"maria / erba" per "marijuana"</code></li>
        <li><code>fenicillina</code></li>
      </ul>

      <h1>Calcolatore di Totale Sostanze</h1>
      <button id="themeToggle" style="margin-bottom:15px;">üåô Dark Mode</button>


      <!-- Form di inserimento sostanze -->
      <label for="famiglia">Nome Famiglia:</label>
      <input type="text" id="famiglia" placeholder="Inserisci il nome della famiglia" />

      <label for="sostanze">
        Sostanze e Quantit√† (es: 600 cocaina, 1000 eroina):
      </label>
      <input type="text" id="sostanze" placeholder="Inserisci sostanze e quantit√†" />
      <div class="chips-container">
        <span class="chip" onclick="aggiungiDroga('cocaina','sostanze')">cocaina</span>
        <span class="chip" onclick="aggiungiDroga('ketamina','sostanze')">ketamina</span>
        <span class="chip" onclick="aggiungiDroga('eroina','sostanze')">eroina</span>
        <span class="chip" onclick="aggiungiDroga('lsd','sostanze')">lsd</span>
        <span class="chip" onclick="aggiungiDroga('marijuana','sostanze')">marijuana</span>
        <span class="chip" onclick="aggiungiDroga('fenicillina','sostanze')">fenicillina</span>
      </div>

      <label for="sanzione">
        Importo settimana scorsa (in euro, sconto 20% da applicare) :
      </label>
      <input type="number" id="sanzione" placeholder="Inserisci la sanzione" />

      <label for="gratuita">
        Droghe della settimana scorsa sanzionate (es: 400 marijuana, 500 ketamina):
      </label>
      <input type="text" id="gratuita" placeholder="Quantit√† e tipo (separate da virgole)" />
      <div class="chips-container">
        <span class="chip" onclick="aggiungiDroga('cocaina','gratuita')">cocaina</span>
        <span class="chip" onclick="aggiungiDroga('ketamina','gratuita')">ketamina</span>
        <span class="chip" onclick="aggiungiDroga('eroina','gratuita')">eroina</span>
        <span class="chip" onclick="aggiungiDroga('lsd','gratuita')">lsd</span>
        <span class="chip" onclick="aggiungiDroga('marijuana','gratuita')">marijuana</span>
        <span class="chip" onclick="aggiungiDroga('fenicillina','gratuita')">fenicillina</span>
      </div>

      <button onclick="aggiungiRisultato()" id="addButton">
        Aggiungi Famiglia
      </button>

      <br />

      <button onclick="eliminaDati()" id="deleteButton">Elimina Tutto</button>

      <hr />

      <h1>Inserimento veloce</h1>
      <p id="subtitle">
        NomeFamiglia : qtaDroga tipoDroga / qtaDroga2 tipoDroga2 .. |
        sanzioneDaScalare / qtaDrogaSanz tipoDrogaSanz / qtaDrogaSanz2
        tipoDrogaSanz2
      </p>

      <textarea id="inputArea" placeholder="Incolla qui il testo..."></textarea>
      <br />
      <button onclick="processInput()" id="addButton">Genera</button>

      <!-- Gestione prezzi -->
      <div id="priceManager">
        <h1 style="font-size:1.1rem; margin-bottom:10px;">Gestione prezzi sostanze</h1>
        <p class="note-prezzo">
          Modifica i prezzi per unit√† (es. ‚Ç¨/grammo). I valori vengono salvati sul tuo browser.
        </p>
        <div class="price-row">
          <label for="price-cocaina">Cocaina (‚Ç¨)</label>
          <input type="number" step="10" id="price-cocaina" />
        </div>
        <div class="price-row">
          <label for="price-ketamina">Ketamina (‚Ç¨)</label>
          <input type="number" step="10" id="price-ketamina" />
        </div>
        <div class="price-row">
          <label for="price-eroina">Eroina (‚Ç¨)</label>
          <input type="number" step="10" id="price-eroina" />
        </div>
        <div class="price-row">
          <label for="price-lsd">LSD (‚Ç¨)</label>
          <input type="number" step="10" id="price-lsd" />
        </div>
        <div class="price-row">
          <label for="price-marijuana">Marijuana (‚Ç¨)</label>
          <input type="number" step="10" id="price-marijuana" />
        </div>
        <div class="price-row">
          <label for="price-fenicillina">Fenicillina (‚Ç¨)</label>
          <input type="number" step="10" id="price-fenicillina" />
        </div>
        <button id="savePricesButton" onclick="salvaPrezziDaUI()">Salva prezzi</button>
        <div class="warning-prezzo">
          ‚ö†Ô∏è Se il prezzo di una sostanza √® 0, nei risultati vedrai un avviso "prezzo non impostato".
        </div>
      </div>

      <div id="result" style="display: none">
        <h2>Risultati</h2>

        <div id="exportButtons">
          <!-- <button onclick="exportJSON()">Esporta JSON</button>
  	<button onclick="exportCSV()">Esporta CSV</button> -->
          <button onclick="copiaReport()">Copia Report</button>
        </div>



        <div id="totale"></div>
      </div>
  </div>

  <script src="script.js" defer></script>
</body>

</html>